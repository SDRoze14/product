{"remainingRequest":"C:\\dev\\product\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\dev\\product\\src\\components\\HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\dev\\product\\src\\components\\HelloWorld.vue","mtime":1592041912378},{"path":"C:\\dev\\product\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\dev\\product\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\dev\\product\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSGVsbG9Xb3JsZCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3RfcHJvZHVjdDogbnVsbCwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgZGlhbG9nX2VkaXQ6IGZhbHNlLAogICAgICBuYW1lUHJvZHVjdDogIiIsCiAgICAgIGFtb3VudFByb2R1Y3Q6ICIiLAogICAgICBwcmljZVByb2R1Y3Q6ICIiLAoKICAgICAgbmFtZVByb2R1Y3RfZWRpdDogIiIsCiAgICAgIGFtb3VudFByb2R1Y3RfZWRpdDogIiIsCiAgICAgIHByaWNlUHJvZHVjdF9lZGl0OiAiIiwKICAgICAgaWRfZWRpdDogIiIsCgogICAgICBhbGVydDogZmFsc2UsCgoKICAgICAgbmFtZVByb2R1Y3RSdWxlOiBbCiAgICAgICAgdmFsdWUgPT4gISF2YWx1ZSB8fCAn4LiB4Lij4Li44LiT4Liy4LiB4Lij4Lit4LiB4LiK4Li34LmI4Lit4Liq4Li04LiZ4LiE4LmJ4LiyJwogICAgICBdLAoKICAgICAgYW1vdW50UnVsZTogWwogICAgICAgIHZhbHVlID0+ICEhdmFsdWUgfHwgJ+C4geC4o+C4uOC4k+C4suC4geC4o+C4reC4geC4iOC4s+C4meC4p+C4meC4quC4tOC4meC4hOC5ieC4sicsCiAgICAgICAgdmFsdWUgPT4gdmFsdWUgPiAwIHx8ICfguIjguLPguJnguKfguJnguKrguLTguJnguITguYnguLLguYTguKHguYjguJbguLnguIHguJXguYnguK3guIcnCiAgICAgIF0sCgogICAgICBwcmljZVJ1bGU6IFsKICAgICAgICB2YWx1ZSA9PiAhIXZhbHVlIHx8ICfguIHguKPguLjguJPguLLguIHguKPguK3guIHguKPguLLguITguLLguKrguLTguJnguITguYnguLInLAogICAgICAgIHZhbHVlID0+IHZhbHVlID4gMCB8fCAn4Lij4Liy4LiE4Liy4Liq4Li04LiZ4LiE4LmJ4Liy4LmE4Lih4LmI4LiW4Li54LiB4LiV4LmJ4Lit4LiHJwogICAgICBdCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2godHJ1ZSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaCgpIHsKICAgICAgdGhpcy5heGlvcy5nZXQoJy9wcm9kdWN0JykudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgdGhpcy5saXN0X3Byb2R1Y3QgPSByZXN1bHQuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkKCkgewoKICAgICAgdGhpcy5heGlvcy5wb3N0KCcvcHJvZHVjdC9hZGQnLHsKICAgICAgICBuYW1lX3Byb2R1Y3Q6IHRoaXMubmFtZVByb2R1Y3QsCiAgICAgICAgYW1vdW50OiB0aGlzLmFtb3VudFByb2R1Y3QsCiAgICAgICAgcHJpY2U6IHRoaXMucHJpY2VQcm9kdWN0CiAgICAgIH0pCiAgICAgICAgLnRoZW4oCiAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlLAogICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCkKICAgICAgICApCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgICAgICAgICB0aGlzLmFsZXJ0ID0gdHJ1ZQogICAgICAgICAgIGlmICh0aGlzLmFsZXJ0ID0gdHJ1ZSkgewogICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmFsZXJ0ID0gZmFsc2UsIDMwMDApCiAgICAgICAgICAgfQogICAgICAgIH0pCiAgICB9LAogICAgZWRpdChpZCkgewogICAgICB0aGlzLmRpYWxvZ19lZGl0ID0gdHJ1ZQoKICAgICAgdGhpcy5heGlvcy5nZXQoYC9wcm9kdWN0LyR7aWR9YCkKICAgICAgICAudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgdGhpcy5pZF9lZGl0ID0gcmVzdWx0LmRhdGFbMF0uX2lkCiAgICAgICAgICB0aGlzLm5hbWVQcm9kdWN0X2VkaXQgPSByZXN1bHQuZGF0YVswXS5uYW1lX3Byb2R1Y3QKICAgICAgICAgIHRoaXMuYW1vdW50UHJvZHVjdF9lZGl0ID0gcmVzdWx0LmRhdGFbMF0uYW1vdW50CiAgICAgICAgICB0aGlzLnByaWNlUHJvZHVjdF9lZGl0ID0gcmVzdWx0LmRhdGFbMF0ucHJpY2UKICAgICAgICB9KQogICAgfSwKICAgIHN1Ym1pdF9lZGl0KGlkKSB7CiAgICAgIHRoaXMuYXhpb3MucGF0Y2goYC9wcm9kdWN0LyR7aWR9YCx7CiAgICAgICAgbmFtZV9wcm9kdWN0OiB0aGlzLm5hbWVQcm9kdWN0X2VkaXQsCiAgICAgICAgYW1vdW50OiB0aGlzLmFtb3VudFByb2R1Y3RfZWRpdCwKICAgICAgICBwcmljZTogdGhpcy5wcmljZVByb2R1Y3RfZWRpdAogICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpCiAgICAgICAgICB0aGlzLmRpYWxvZ19lZGl0ID0gZmFsc2UKICAgICAgICB9KQogICAgfSwKICAgIHJlbW92ZShpZCkgewogICAgICB0aGlzLmF4aW9zLmRlbGV0ZShgL3Byb2R1Y3QvJHtpZH1gKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpCiAgICAgICAgfSkKICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HelloWorld.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container>\n    <v-row class=\"\">\n      <v-col class=\"mb-5\" cols=\"12\">\n        <v-row justify=\"center\">\n          <h1>เว็บจัดการสินค้า DEMO</h1>\n        </v-row>\n      </v-col>\n\n      <v-col class=\"mb-5\" cols=\"12\">\n        <v-row justify=\"center\">\n          <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn color=\"primary\" dark v-bind=\"attrs\" v-on=\"on\">\n                เพิ่มสินค้า\n              </v-btn>\n            </template>\n            <v-card>\n              <v-card-title>\n                <span class=\"headline\">เพิ่มสินค้าใหม่</span>\n              </v-card-title>\n              <v-card-text>\n                <v-container>\n                  <v-row>\n                    <v-col cols=\"12\">\n                      <v-text-field\n                        label=\"ชื่อสินค้า*\"\n                        required\n                        v-model=\"nameProduct\"\n                        :rules=\"nameProductRule\"\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                      <v-text-field\n                        label=\"จำนวนสินค้า*\"\n                        required\n                        v-model=\"amountProduct\"\n                        :rules=\"amountRule\"\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                      <v-text-field\n                        label=\"ราคาสินค้า (ต่อชิ้น)\"\n                        required\n                        v-model=\"priceProduct\"\n                        :rules=\"priceRule\"\n                      ></v-text-field>\n                    </v-col>\n                  </v-row>\n                </v-container>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"red darken-1\" text @click=\"dialog = false\"\n                  >ปิด</v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"add()\">เพิ่ม</v-btn>\n              </v-card-actions>\n              <v-alert type=\"error\" dismissible :value=\"alert\">\n                กรูณาตรวจสอบข้อมูลให้ถูกต้อง\n              </v-alert>\n            </v-card>\n          </v-dialog>\n        </v-row>\n      </v-col>\n\n      <v-col class=\"mb-5\" cols=\"12\">\n        <v-card\n          class=\"mx-auto mt-3\"\n          max-width=\"1000\"\n          dense\n          v-for=\"list in list_product\"\n          :key=\"list\"\n        >\n          <v-list-item three-line>\n            <v-list-item-content justify=\"left\">\n              <v-list-item-title class=\"headline mb-1\">{{\n                list.name_product\n              }}</v-list-item-title>\n              <v-list-item-subtitle\n                >จำนวน {{ list.amount }}</v-list-item-subtitle\n              >\n              <p class=\"mt-2\">ราคา(ชิ้นละ) {{ list.price }} บาท</p>\n            </v-list-item-content>\n            <v-btn color=\"warning\" @click=\"edit(list._id)\">แก้ไข</v-btn>\n            <v-btn color=\"error\" class=\"ml-5\" @click=\"remove(list._id)\">ลบ</v-btn>\n          </v-list-item>\n        </v-card>\n      </v-col>\n    </v-row>\n\n    <v-dialog\n      v-model=\"dialog_edit\"\n      persistent :overlay=\"false\"\n      max-width=\"500px\"\n      transition=\"dialog-transition\"\n    >\n      <v-card>\n        <v-card-title>\n          <span class=\"headline\">แก้ไขข้อมูลสินค้า</span>\n        </v-card-title>\n        <v-card-text>\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\">\n                <v-text-field\n                  label=\"ชื่อสินค้า*\"\n                  required\n                  v-model=\"nameProduct_edit\"\n                  :rules=\"nameProductRule\" disabled\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                <v-text-field\n                  label=\"จำนวนสินค้า*\"\n                  required\n                  v-model=\"amountProduct_edit\"\n                  :rules=\"amountRule\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                <v-text-field\n                  label=\"ราคาสินค้า (ต่อชิ้น)\"\n                  required\n                  v-model=\"priceProduct_edit\"\n                  :rules=\"priceRule\"\n                ></v-text-field>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"red darken-1\" text @click=\"dialog_edit = false\"\n            >ปิด</v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"submit_edit(id_edit)\">บันทึก</v-btn>\n        </v-card-actions>\n        <v-alert type=\"error\" dismissible :value=\"alert\">\n          กรูณาตรวจสอบข้อมูลให้ถูกต้อง\n        </v-alert>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  name: 'HelloWorld',\n  data() {\n    return {\n      list_product: null,\n      dialog: false,\n      dialog_edit: false,\n      nameProduct: \"\",\n      amountProduct: \"\",\n      priceProduct: \"\",\n\n      nameProduct_edit: \"\",\n      amountProduct_edit: \"\",\n      priceProduct_edit: \"\",\n      id_edit: \"\",\n\n      alert: false,\n\n\n      nameProductRule: [\n        value => !!value || 'กรุณากรอกชื่อสินค้า'\n      ],\n\n      amountRule: [\n        value => !!value || 'กรุณากรอกจำนวนสินค้า',\n        value => value > 0 || 'จำนวนสินค้าไม่ถูกต้อง'\n      ],\n\n      priceRule: [\n        value => !!value || 'กรุณากรอกราคาสินค้า',\n        value => value > 0 || 'ราคาสินค้าไม่ถูกต้อง'\n      ]\n    };\n  },\n  mounted() {\n    this.fetch(true);\n  },\n  methods: {\n    fetch() {\n      this.axios.get('/product').then((result) => {\n        this.list_product = result.data;\n      });\n    },\n    add() {\n\n      this.axios.post('/product/add',{\n        name_product: this.nameProduct,\n        amount: this.amountProduct,\n        price: this.priceProduct\n      })\n        .then(\n          this.dialog = false,\n          location.reload()\n        )\n        .catch(() => {\n           this.dialog = true\n           this.alert = true\n           if (this.alert = true) {\n             setTimeout(() => this.alert = false, 3000)\n           }\n        })\n    },\n    edit(id) {\n      this.dialog_edit = true\n\n      this.axios.get(`/product/${id}`)\n        .then(result => {\n          this.id_edit = result.data[0]._id\n          this.nameProduct_edit = result.data[0].name_product\n          this.amountProduct_edit = result.data[0].amount\n          this.priceProduct_edit = result.data[0].price\n        })\n    },\n    submit_edit(id) {\n      this.axios.patch(`/product/${id}`,{\n        name_product: this.nameProduct_edit,\n        amount: this.amountProduct_edit,\n        price: this.priceProduct_edit\n      })\n        .then(() => {\n          location.reload()\n          this.dialog_edit = false\n        })\n    },\n    remove(id) {\n      this.axios.delete(`/product/${id}`)\n        .then(() => {\n          location.reload()\n        })\n    }\n  },\n};\n</script>\n"]}]}